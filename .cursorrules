---
globs:
  - "**/*.tsx"
  - "**/*.ts"
alwaysApply: true
---

- Use **Next.js 15 App Router** conventions (`app/` directory, server actions if needed).
- Always use **TypeScript** (no `.js` files).
- UI must follow a **black & white minimal design** inspired by:
  - https://ui.shadcn.com/docs/installation/next
  - https://www.better-auth.com/docs/installation
  - https://io.net
  - https://chanhdai.com
  - https://quaric.com
- Use **Tailwind CSS** + **ShadCN UI** for all UI elements.
- Use only **white (#fff)**, **black (#000)**, and **neutral gray** tones.
- Never use gradient, shadows, or colorful accents.
- Font: `font-sans`, `antialiased`, `tracking-tight`, use system default sans-serif.
- Buttons:
  - Base: `border border-black bg-white text-black`
  - Hover: `bg-black text-white transition-all duration-200`
  - No rounded-full or large shadows.
- Inputs / Select:
  - `border border-neutral-300 bg-white text-black`
  - `focus:border-neutral-800 focus:ring-0`
- Cards:
  - `border border-neutral-200 p-4 rounded-md`
  - No shadow, clean spacing.
- Use **Framer Motion** only for subtle fade/slide animations (`opacity`, `y`).
- All layout should have consistent padding (`px-6 py-4`) and max width (`max-w-6xl mx-auto`).
- Use `flex` or `grid` for layout, avoid absolute positioning unless absolutely required.
- Never use bright colors, blur, or glass effects.
- Use **BetterAuth** for authentication, store tokens securely with HTTP-only cookies.
- Use **MongoDB** (via `mongoose`) for persistent storage.

### ðŸ“‚ Project structure rules
- All **content-specific UI** components must be placed in `src/components/contents/`.
  - These include pages, views, and visual modules directly tied to user-facing content.
- All **layout or structural components** (Navbar, Footer, Sidebar, Container, etc.) must be placed in `src/components/layouts/`.
  - Layouts handle structure, responsiveness, and navigation.
- Shared UI primitives (like Buttons, Cards, Modals) can be imported directly from `@/components/ui` (ShadCN library).
- Maintain separation of concerns â€” contents focus on data & presentation, layouts focus on structure & navigation.

### ðŸ§­ Rendering & UX rules
- Combine **SSR (Server-Side Rendering)** and **CSR (Client-Side Rendering)** strategically for best UX:
  - Use **SSR** for data-driven pages and initial page loads (faster TTFB and SEO).
  - Use **CSR** for interactive components (graph visualizations, algorithm animations).
- Avoid unnecessary full-page re-renders â€” prefer React hydration and progressive loading.
- Use **Suspense** and **dynamic imports** for heavy or client-only components (e.g., visualization).
- Ensure a consistent UX flow: layout should not flicker between SSR and CSR transitions.
- Avoid mixing heavy animations or excessive transitions â€” minimal, clean, and responsive.

### ðŸ§© Code organization
- Organize backend code under `/app/api/` using API Routes (`route.ts`).
- Keep `/lib/` folder for graph algorithms (Dijkstra, Bellman-Ford, Kruskal, Prim, Coloring).
- Each algorithm file should export a **pure function** with no side effects.
- Avoid inline styling and CSS modules; use **Tailwind classes directly**.
- Always **export default React components**.
- Prefer **functional components** and **React hooks** (no class components).
- Follow consistent naming conventions:
  - Components: PascalCase (e.g., `GraphEditor.tsx`)
  - Functions: camelCase
  - Constants: UPPER_SNAKE_CASE
  - Files / Routes: kebab-case
- Keep dependencies minimal; avoid unnecessary UI libraries or color themes.

@nextjs
@tailwind
@shadcn
@better-auth
@mongodb
